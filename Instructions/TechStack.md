# Tech Stack

## Core Frameworks
- **Next.js 14 (App Router):** Primary full-stack framework; supports server components, streaming routes, and Vercel-native deployment.
- **TypeScript (strict mode):** Static typing for both front-end and server modules; aligns with engineering rules requiring strict configuration.
- **Tailwind CSS:** Utility-first styling to match Parsity’s responsive UI requirements and `design-rules.mdc` guidance.
- **Auth.js/NextAuth:** Session management with Credentials provider to validate `__initial_auth_token` and support anonymous fallbacks.

## AI & Data Services
- **OpenAI API:** `gpt-4o-mini` (or equivalent) for completions; `text-embedding-3-small` for embeddings; wrapped via a reusable TypeScript client.
- **Vector Database:** Pinecone (cloud) or Qdrant (self-hosted) with metadata schema (`source_url`, `document_title`, `chunk_id`).
- **Primary Data Store:** Lightweight option (e.g., PlanetScale/MySQL, Postgres, or Supabase) for session/event logging; abstracted to avoid vendor lock.

## Tooling & Dev Experience
- **ESLint + Prettier:** Enforce style (single quotes, block comments) and catch lint issues early.
- **Husky + lint-staged (optional):** Run lint/tests pre-commit for consistent quality.
- **Testing:** Vitest or Jest for unit tests (e.g., Agent decision logic) and Playwright for end-to-end chat flows if needed.
- **Documentation:** `/Instructions` folder, `step-XX.md` trail, Loom walkthroughs, and Parsity-style memos.

## Observability & Deployment
- **Logging:** Structured console logging with correlation IDs; integrate with Vercel logging or Logtail during production.
- **Telemetry Dashboard:** Lightweight Next.js route or third-party (e.g., Tinybird, Supabase) to visualize latency, token usage, retrieval metrics.
- **Deployment Target:** Vercel (preview + production) with environment variables configured via dashboard secrets.

## Development Environment
- **Node.js:** Latest LTS (≥18) to support Edge runtimes and OpenAI SDK.
- **Package Manager:** npm (as generated by `create-next-app@latest --use-npm`).
- **Browser Support:** Modern evergreen browsers; ensure mobile responsiveness per `design-rules.mdc`.

## Future Enhancements
- **Fine-tuning Sandbox:** Optional integration to compare RAG vs. fine-tuning; record findings in `/docs`.
- **Analytics Hooks:** Add event tracking (e.g., PostHog) for user interactions if privacy policies allow.
